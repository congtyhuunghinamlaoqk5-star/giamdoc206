<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Tra cứu câu hỏi & đáp án (1 file)</title>
<style>
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #f7f7f7; color: #111; }
  header { position: sticky; top: 0; background: #ffffffcc; backdrop-filter: saturate(150%) blur(6px); border-bottom: 1px solid #eee; z-index: 10; }
  .wrap { max-width: 900px; margin: 0 auto; padding: 16px; }
  #search { width: 100%; padding: 12px 14px; font-size: 16px; border: 1px solid #ddd; border-radius: 10px; }
  .meta { font-size: 12px; color: #666; margin-top: 8px; }
  .card { background: #fff; border: 1px solid #eee; border-radius: 14px; padding: 14px; margin: 12px 0; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
  .qid { font-weight: 600; font-size: 14px; color: #666; }
  .question { font-size: 16px; margin: 6px 0 10px; }
  .options { display: grid; gap: 8px; grid-template-columns: 1fr; }
  .opt { border: 1px solid #eee; border-radius: 10px; padding: 10px 12px; background: #fafafa; }
  .opt b { margin-right: 6px; }
  .opt.correct { background: #ecfdf5; border-color: #a7f3d0; }
  .answer { margin-top: 8px; font-size: 13px; color: #0a7d4f; font-weight: 600; }
  .controls { display: flex; gap: 8px; margin: 10px 0 0; flex-wrap: wrap; }
  .btn { padding: 8px 10px; border: 1px solid #ddd; border-radius: 8px; background: #fff; font-size: 13px; cursor: pointer; }
  .btn.active { border-color: #999; }
  @media (min-width: 700px) {
    .options { grid-template-columns: 1fr 1fr; }
  }
</style>
</head>
<body>
<header>
  <div class="wrap">
    <input id="search" type="search" placeholder="Nhập từ khóa để tìm câu hỏi hoặc đáp án (ví dụ: 1965, Truyền thống, luật sĩ quan, ...)" />
    <div class="controls">
      <button id="toggleAns" class="btn">Ẩn/Hiện đáp án</button>
      <button id="onlyCorrect" class="btn">Chỉ hiển thị đáp án đúng</button>
      <span class="meta" id="meta"></span>
    </div>
  </div>
</header>
<main class="wrap">
  <div id="results"></div>
</main>

<script>
  // DỮ LIỆU GỐC (nhúng trực tiếp)
  const qaList = [
   {
    "id": 1,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết một trong những nguyên nhân chủ yếu dẫn đến tệ nạn xã hội là gì?",
    "options": {
      "A": "Tác động mặt trái của kinh tế thị trường, hội nhập quốc tế.",
      "B": "Do xã hội quá phát triển.",
      "C": "Do thiếu cơ sở vật chất.",
      "D": "Do phong tục, tập quán cổ truyền."
    },
    "correct": "A"
  },
  {
    "id": 2,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết đặc điểm của tệ nạn xã hội trong Quân đội là gì?",
    "options": {
      "A": "Xuất hiện nhiều hơn ngoài xã hội.",
      "B": "Có tính lây lan, khó kiểm soát, ảnh hưởng trực tiếp đến kỷ luật Quân đội.",
      "C": "Không có tác động lớn đến nhiệm vụ.",
      "D": "Chỉ ảnh hưởng đến cá nhân."
    },
    "correct": "B"
  },
  {
    "id": 3,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết tệ nạn xã hội tác động xấu nhất đến phẩm chất nào của quân nhân?",
    "options": {
      "A": "Tác phong.",
      "B": "Phẩm chất chính trị, đạo đức, lối sống.",
      "C": "Tinh thần thể thao.",
      "D": "Văn hóa giao tiếp."
    },
    "correct": "B"
  },
  {
    "id": 4,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết một trong những hậu quả trực tiếp của tệ nạn xã hội trong quân đội là:",
    "options": {
      "A": "Giảm năng suất lao động xã hội.",
      "B": "Suy thoái phẩm chất, kỷ luật, uy tín của Quân đội.",
      "C": "Tăng chi phí y tế cộng đồng.",
      "D": "Giảm năng lực quản lý nhà nước."
    },
    "correct": "B"
  },
  {
    "id": 5,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết phòng, chống tệ nạn xã hội trong quân đội là trách nhiệm của ai?",
    "options": {
      "A": "Chỉ huy đơn vị.",
      "B": "Mỗi cán bộ, đảng viên.",
      "C": "Cấp ủy, chỉ huy, cơ quan chính trị và toàn thể quân nhân.",
      "D": "Bộ Tư lệnh Quân khu."
    },
    "correct": "C"
  },
  {
    "id": 6,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết một trong những nguyên nhân chủ quan dẫn đến quân nhân sa vào tệ nạn xã hội?",
    "options": {
      "A": "Bị ép buộc từ bên ngoài.",
      "B": "Thiếu ý chí rèn luyện, buông lỏng tự quản.",
      "C": "Thiếu thiết bị kỹ thuật.",
      "D": "Do hoàn cảnh gia đình nghèo khó."
    },
    "correct": "B"
  },
  {
    "id": 7,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết cơ sở quan trọng nhất để ngăn chặn tệ nạn xã hội xâm nhập quân đội?",
    "options": {
      "A": "Ý thức tự giác của mỗi quân nhân.",
      "B": "Sự hỗ trợ của chính quyền địa phương.",
      "C": "Tăng cường biện pháp kinh tế.",
      "D": "Công tác khen thưởng."
    },
    "correct": "A"
  },
  {
    "id": 8,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết biểu hiện của các tệ nạn xã hội khi xâm nhập vào đội ngũ SQ, QNCN là gì?",
    "options": {
      "A": "Biểu hiện của sự sáng tạo văn hóa mới.",
      "B": "Một hình thức giải trí trong xã hội hiện đại.",
      "C": "Nhu cầu tất yếu trong nền kinh tế thị trường.",
      "D": "Lối sống vô tổ chức, coi thường kỷ cương, pháp luật."
    },
    "correct": "D"
  },
  {
    "id": 9,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết tệ nạn xã hội gây tác hại nghiêm trọng nhất đối với sĩ quan, quân nhân chuyên nghiệp ở phương diện nào?",
    "options": {
      "A": "Làm giảm sút sức khỏe và tinh thần.",
      "B": "Làm mất khả năng tiếp cận khoa học công nghệ.",
      "C": "Làm suy thoái tư tưởng chính trị, đạo đức, lối sống.",
      "D": "Gây cản trở việc giao lưu với nhân dân."
    },
    "correct": "C"
  },
  {
    "id": 10,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết một trong những hậu quả nghiêm trọng nhất của tệ nạn xã hội đối với Quân đội là gì?",
    "options": {
      "A": "Làm mất vị thế, uy tín, danh dự của quân đội và hình ảnh “Bộ đội Cụ Hồ”.",
      "B": "Làm tăng cường đoàn kết trong đơn vị.",
      "C": "Làm phong phú thêm đời sống tinh thần bộ đội.",
      "D": "Tạo điều kiện tiếp cận công nghệ số."
    },
    "correct": "A"
  },
  {
    "id": 11,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết những nguyên nhân nào sau đây làm phát sinh nguy cơ tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN?",
    "options": {
      "A": "Thiếu sự quan tâm của lãnh đạo, chỉ huy, tác động tiêu cực của mặt trái kinh tế thị trường,",
      "B": "Thu nhập, đời sống còn khó khăn, nhất là với sĩ quan trẻ.",
      "C": "Ảnh hưởng từ bạn bè, lối sống thực dụng.",
      "D": "Tất cả các phương án."
    },
    "correct": "D"
  },
  {
    "id": 12,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết thực trạng một số cấp ủy, chỉ huy còn thiếu sót trong công tác phòng, chống tệ nạn xã hội chủ yếu do nguyên nhân nào?",
    "options": {
      "A": "Thiếu chủ trương lãnh đạo, chỉ đạo quyết liệt, kịp thời.",
      "B": "Quá tập trung vào thành tích, có biểu hiện bao che, giấu giếm khuyết điểm.",
      "C": "Công tác kiểm tra, giám sát chưa thường xuyên.",
      "D": "Tất cả các phương án đã nêu."
    },
    "correct": "D"
  },
  {
    "id": 13,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết một số SQ, QNCN mắc tệ nạn xã hội bị xử lý kỷ luật chủ yếu do nguyên nhân chủ quan nào?",
    "options": {
      "A": "Bản lĩnh chính trị yếu, thiếu tu dưỡng rèn luyện.",
      "B": "Ham chơi, đua đòi, tham vọng làm giàu nhanh chóng.",
      "C": "So sánh thiệt hơn giữa cống hiến và hưởng thụ.",
      "D": "Tất cả các phương án đã nêu."
    },
    "correct": "D"
  },
  {
    "id": 14,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết trong công tác quản lý SQ, QNCN, nội dung nào sau đây cần được chú trọng hàng đầu?",
    "options": {
      "A": "Quản lý tình hình chính trị nội bộ và tư tưởng.",
      "B": "Quản lý thể lực, sức khỏe.",
      "C": "Quản lý phương tiện chiến đấu.",
      "D": "Quản lý cơ sở vật chất huấn luyện."
    },
    "correct": "A"
  },
  {
    "id": 15,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết trong phòng, chống tệ nạn xã hội trong quân đội, phương châm cơ bản là gì?",
    "options": {
      "A": "“Phòng là chính, chống là phụ”.",
      "B": "“Xây” và “chống” kết hợp, lấy “xây” là chính.",
      "C": "“Chống” trước, “xây” sau.",
      "D": "Lấy kỷ luật thay thế giáo dục."
    },
    "correct": "B"
  },
  {
    "id": 16,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết để nâng cao hiệu quả phòng, chống tệ nạn xã hội trong quân đội, cần phát huy tính gương mẫu của lực lượng nào?",
    "options": {
      "A": "Đoàn viên, thanh niên trong đơn vị.",
      "B": "Các tổ chức quần chúng.",
      "C": "Đội ngũ cán bộ, đảng viên và SQ, QNCN, nhất là cán bộ chủ trì.",
      "D": "Hội đồng quân nhân cơ sở."
    },
    "correct": "C"
  },
  {
    "id": 17,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết trong tuyên truyền, giáo dục phòng, chống tệ nạn xã hội, cần đặc biệt chú trọng trang bị kỹ năng gì cho SQ, QNCN?",
    "options": {
      "A": "Kỹ năng xử lý tình huống, quản lý tài chính cá nhân, tiếp cận thông tin tích cực.",
      "B": "Kỹ năng tổ chức huấn luyện thể lực.",
      "C": "Kỹ năng sử dụng vũ khí trang bị mới.",
      "D": "Kỹ năng về hội nhập quốc tế và đối ngoại nhân dân."
    },
    "correct": "A"
  },
  {
    "id": 18,
    "q": "Qua nghiên cứu chuyên đề “Phòng, chống tệ nạn xã hội xâm nhập vào đội ngũ SQ, QNCN trong quân đội hiện nay”, đồng chí cho biết phát huy tính tích cực, tự giác của sĩ quan, quân nhân chuyên nghiệp trong phòng, chống tệ nạn xã hội, gồm những nội dung nào?",
    "options": {
      "A": "Kiên định bản lĩnh chính trị, tư tưởng vững vàng; thường xuyên tu dưỡng đạo đức, lối sống.",
      "B": "Nhận thức về tác hại của tệ nạn xã hội.",
      "C": "Đăng ký, cam kết không tham gia tệ nạn xã hội.",
      "D": "Tất cả các phương án."
    },
    "correct": "D"
  },
  {
    "id": 19,
    "q": "Qua nghiên cứu chuyên đề “Nâng cao năng lực chỉ huy, quản lý cho đội ngũ cán bộ ở đơn vị cơ sở đáp ứng yêu cầu xây dựng Quân đội tinh, gọn, mạnh, tiến lên hiện đại”, đồng chí cho biết đặc điểm cơ bản của cán bộ ở đơn vị cơ sở là gì?",
    "options": {
      "A": "Thường công tác trong các cơ quan chiến lược, tham mưu cấp BQP.",
      "B": "Trực tiếp huấn luyện, giáo dục, quản lý, rèn luyện bộ đội.",
      "C": "Chủ yếu đảm nhiệm công tác nghiên cứu, tham mưu chiến lược.",
      "D": "Không trực tiếp tiếp xúc với hạ sĩ quan, binh sĩ."
    },
    "correct": "B"
  },
  {
    "id": 20,
    "q": "Qua nghiên cứu chuyên đề “Nâng cao năng lực chỉ huy, quản lý cho đội ngũ cán bộ ở đơn vị cơ sở đáp ứng yêu cầu xây dựng Quân đội tinh, gọn, mạnh, tiến lên hiện đại”, đồng chí cho biết đặc điểm nào dưới đây thường thấy ở cán bộ cơ sở trong QĐND Việt Nam?",
    "options": {
      "A": "Thường có tuổi đời cao, nhiều kinh nghiệm chỉ huy.",
      "B": "Trẻ tuổi, nhiệt huyết, song kinh nghiệm chỉ huy, quản lý còn hạn chế.",
      "C": "Ít gắn bó với bộ đội do bận công tác cơ quan.",
      "D": "Chủ yếu đảm nhiệm công tác hậu cần, kỹ thuật."
    },
    "correct": "B"
  },
  ]
  let showAnswers = true;
  let onlyShowCorrect = false;

  const elSearch = document.getElementById('search');
  const elResults = document.getElementById('results');
  const elMeta = document.getElementById('meta');
  const btnToggleAns = document.getElementById('toggleAns');
  const btnOnlyCorrect = document.getElementById('onlyCorrect');

  function normalizeVN(str) {
    return (str || '').toLowerCase()
      .normalize('NFD')
      .replace(/\p{Diacritic}+/gu, '')
      .replace(/đ/g, 'd');
  }

  function render(items) {
    elResults.innerHTML = '';
    elMeta.textContent = `Hiển thị ${items.length} / ${qaList.length} câu`;
    const frag = document.createDocumentFragment();
    items.forEach(item => {
      const card = document.createElement('div');
      card.className = 'card';

      const top = document.createElement('div');
      top.className = 'qid';
      top.textContent = `Câu ${item.id}`;
      card.appendChild(top);

      const q = document.createElement('div');
      q.className = 'question';
      q.textContent = item.q;
      card.appendChild(q);

      // options
      const optsWrap = document.createElement('div');
      optsWrap.className = 'options';
      const correctLetters = (item.correct || '').toUpperCase();

      Object.entries(item.options || {}).forEach(([k, v]) => {
        const opt = document.createElement('div');
        opt.className = 'opt';
        const isCorrect = correctLetters.includes(k);
        if (isCorrect) opt.classList.add('correct');
        if (onlyShowCorrect && !isCorrect) {
          opt.style.display = 'none';
        }
        opt.innerHTML = `<b>${k})</b> <span>${v}</span>`;
        optsWrap.appendChild(opt);
      });
      card.appendChild(optsWrap);

      // answer
      const ans = document.createElement('div');
      ans.className = 'answer';
      ans.textContent = item.correct ? `Đáp án: ${item.correct}` : 'Đáp án: (chưa xác định)';
      ans.style.display = showAnswers ? '' : 'none';
      card.appendChild(ans);

      frag.appendChild(card);
    });
    elResults.appendChild(frag);
  }

  function doSearch() {
    const q = normalizeVN(elSearch.value);
    if (!q) { render(qaList); return; }
    const filtered = qaList.filter(item => {
      const text = [
        item.q,
        Object.entries(item.options || {}).map(([k, v]) => `${k}) ${v}`).join(' '),
        item.correct
      ].join(' ');
      return normalizeVN(text).includes(q);
    });
    render(filtered);
  }

  // events
  elSearch.addEventListener('input', doSearch);
  btnToggleAns.addEventListener('click', () => {
    showAnswers = !showAnswers;
    btnToggleAns.classList.toggle('active', showAnswers);
    doSearch();
  });
  btnOnlyCorrect.addEventListener('click', () => {
    onlyShowCorrect = !onlyShowCorrect;
    btnOnlyCorrect.classList.toggle('active', onlyShowCorrect);
    doSearch();
  });

  // init
  render(qaList);
</script>
</body>
</html>
